using System;
using System.Text;
using System.Text.Json;
using Cryptodd.Okx.Models;
using Cryptodd.Okx.Websockets;
using Xunit;

namespace Cryptodd.Tests.Okx;

public class JsonParseTests
{
    #region Data

    public const string bookSnapshot =
        "{\"arg\":{\"channel\":\"books\",\"instId\":\"BTC-USD-SWAP\"},\"action\":\"snapshot\",\"data\":[{\"asks\":[[\"16576.3\",\"339\",\"0\",\"6\"],[\"16576.6\",\"228\",\"0\",\"1\"],[\"16576.7\",\"166\",\"0\",\"3\"],[\"16576.8\",\"228\",\"0\",\"1\"],[\"16576.9\",\"64\",\"0\",\"2\"],[\"16577.4\",\"14\",\"0\",\"1\"],[\"16577.5\",\"228\",\"0\",\"1\"],[\"16577.6\",\"337\",\"0\",\"2\"],[\"16577.7\",\"228\",\"0\",\"1\"],[\"16577.8\",\"138\",\"0\",\"2\"],[\"16578.2\",\"31\",\"0\",\"2\"],[\"16578.3\",\"50\",\"0\",\"1\"],[\"16578.4\",\"177\",\"0\",\"3\"],[\"16578.6\",\"228\",\"0\",\"1\"],[\"16579\",\"53\",\"0\",\"1\"],[\"16579.2\",\"130\",\"0\",\"1\"],[\"16579.3\",\"130\",\"0\",\"1\"],[\"16579.6\",\"94\",\"0\",\"1\"],[\"16579.7\",\"228\",\"0\",\"1\"],[\"16579.9\",\"122\",\"0\",\"1\"],[\"16580.1\",\"177\",\"0\",\"3\"],[\"16580.2\",\"5\",\"0\",\"1\"],[\"16580.3\",\"155\",\"0\",\"1\"],[\"16580.4\",\"141\",\"0\",\"2\"],[\"16580.5\",\"228\",\"0\",\"1\"],[\"16580.7\",\"10\",\"0\",\"1\"],[\"16580.8\",\"203\",\"0\",\"1\"],[\"16580.9\",\"228\",\"0\",\"1\"],[\"16581\",\"100\",\"0\",\"1\"],[\"16581.1\",\"238\",\"0\",\"2\"],[\"16581.3\",\"2\",\"0\",\"1\"],[\"16581.4\",\"25\",\"0\",\"1\"],[\"16581.6\",\"195\",\"0\",\"1\"],[\"16581.7\",\"50\",\"0\",\"1\"],[\"16581.8\",\"54\",\"0\",\"2\"],[\"16582.4\",\"187\",\"0\",\"1\"],[\"16582.5\",\"72\",\"0\",\"2\"],[\"16582.7\",\"25\",\"0\",\"1\"],[\"16582.8\",\"133\",\"0\",\"1\"],[\"16583.2\",\"105\",\"0\",\"1\"],[\"16583.3\",\"249\",\"0\",\"1\"],[\"16583.4\",\"97\",\"0\",\"2\"],[\"16583.5\",\"96\",\"0\",\"2\"],[\"16583.6\",\"60\",\"0\",\"1\"],[\"16584.1\",\"40\",\"0\",\"1\"],[\"16584.8\",\"10\",\"0\",\"1\"],[\"16584.9\",\"160\",\"0\",\"1\"],[\"16585\",\"390\",\"0\",\"1\"],[\"16585.2\",\"96\",\"0\",\"2\"],[\"16585.7\",\"33\",\"0\",\"1\"],[\"16585.8\",\"61\",\"0\",\"2\"],[\"16586.1\",\"20\",\"0\",\"1\"],[\"16586.9\",\"2227\",\"0\",\"2\"],[\"16587\",\"1000\",\"0\",\"1\"],[\"16587.7\",\"3\",\"0\",\"1\"],[\"16587.8\",\"1\",\"0\",\"1\"],[\"16587.9\",\"1166\",\"0\",\"2\"],[\"16588\",\"400\",\"0\",\"1\"],[\"16588.1\",\"65\",\"0\",\"2\"],[\"16588.4\",\"10\",\"0\",\"1\"],[\"16588.7\",\"1\",\"0\",\"1\"],[\"16588.8\",\"29\",\"0\",\"1\"],[\"16589\",\"76\",\"0\",\"1\"],[\"16589.1\",\"111\",\"0\",\"2\"],[\"16589.2\",\"40\",\"0\",\"1\"],[\"16589.4\",\"240\",\"0\",\"1\"],[\"16590\",\"143\",\"0\",\"1\"],[\"16590.3\",\"49\",\"0\",\"1\"],[\"16590.6\",\"29\",\"0\",\"2\"],[\"16590.7\",\"32\",\"0\",\"1\"],[\"16590.8\",\"40\",\"0\",\"1\"],[\"16590.9\",\"49\",\"0\",\"4\"],[\"16591\",\"50\",\"0\",\"1\"],[\"16591.7\",\"440\",\"0\",\"4\"],[\"16591.9\",\"300\",\"0\",\"1\"],[\"16592\",\"1000\",\"0\",\"1\"],[\"16592.1\",\"86\",\"0\",\"2\"],[\"16592.2\",\"34\",\"0\",\"1\"],[\"16592.4\",\"75\",\"0\",\"2\"],[\"16592.5\",\"66\",\"0\",\"1\"],[\"16593.5\",\"28\",\"0\",\"1\"],[\"16593.7\",\"66\",\"0\",\"1\"],[\"16594\",\"25\",\"0\",\"1\"],[\"16594.2\",\"40\",\"0\",\"1\"],[\"16594.8\",\"1\",\"0\",\"1\"],[\"16594.9\",\"39\",\"0\",\"1\"],[\"16595.2\",\"76\",\"0\",\"1\"],[\"16595.3\",\"119\",\"0\",\"2\"],[\"16595.4\",\"720\",\"0\",\"10\"],[\"16595.5\",\"1008\",\"0\",\"14\"],[\"16595.6\",\"56\",\"0\",\"1\"],[\"16595.7\",\"62\",\"0\",\"3\"],[\"16596.2\",\"330\",\"0\",\"1\"],[\"16596.3\",\"376\",\"0\",\"1\"],[\"16596.6\",\"1\",\"0\",\"1\"],[\"16596.7\",\"76\",\"0\",\"1\"],[\"16596.9\",\"786\",\"0\",\"1\"],[\"16597.5\",\"54\",\"0\",\"1\"],[\"16598\",\"1752\",\"0\",\"2\"],[\"16598.2\",\"84\",\"0\",\"3\"],[\"16598.6\",\"455\",\"0\",\"6\"],[\"16598.9\",\"1122\",\"0\",\"1\"],[\"16599\",\"1609\",\"0\",\"19\"],[\"16599.4\",\"10\",\"0\",\"1\"],[\"16599.8\",\"1\",\"0\",\"1\"],[\"16599.9\",\"76\",\"0\",\"1\"],[\"16601\",\"1\",\"0\",\"1\"],[\"16601.1\",\"210\",\"0\",\"2\"],[\"16601.2\",\"449\",\"0\",\"1\"],[\"16601.8\",\"44\",\"0\",\"1\"],[\"16602\",\"45\",\"0\",\"1\"],[\"16602.3\",\"11\",\"0\",\"1\"],[\"16602.4\",\"20\",\"0\",\"1\"],[\"16603\",\"10\",\"0\",\"1\"],[\"16603.6\",\"335\",\"0\",\"2\"],[\"16603.8\",\"237\",\"0\",\"1\"],[\"16603.9\",\"330\",\"0\",\"1\"],[\"16604.1\",\"266\",\"0\",\"1\"],[\"16604.3\",\"3\",\"0\",\"1\"],[\"16604.8\",\"693\",\"0\",\"2\"],[\"16605.6\",\"11\",\"0\",\"1\"],[\"16605.9\",\"3200\",\"0\",\"1\"],[\"16607\",\"2\",\"0\",\"2\"],[\"16607.1\",\"435\",\"0\",\"1\"],[\"16607.3\",\"8\",\"0\",\"2\"],[\"16607.7\",\"55\",\"0\",\"1\"],[\"16608.1\",\"50\",\"0\",\"1\"],[\"16608.2\",\"45\",\"0\",\"3\"],[\"16608.8\",\"1\",\"0\",\"1\"],[\"16608.9\",\"11\",\"0\",\"1\"],[\"16609.4\",\"1\",\"0\",\"1\"],[\"16609.5\",\"560\",\"0\",\"1\"],[\"16609.6\",\"1536\",\"0\",\"1\"],[\"16610.3\",\"712\",\"0\",\"1\"],[\"16610.4\",\"429\",\"0\",\"1\"],[\"16612.2\",\"11\",\"0\",\"1\"],[\"16613.1\",\"17\",\"0\",\"1\"],[\"16613.4\",\"480\",\"0\",\"1\"],[\"16615.4\",\"1\",\"0\",\"1\"],[\"16615.5\",\"11\",\"0\",\"1\"],[\"16616.5\",\"45\",\"0\",\"3\"],[\"16618\",\"50\",\"0\",\"1\"],[\"16618.8\",\"11\",\"0\",\"1\"],[\"16620.4\",\"3\",\"0\",\"1\"],[\"16620.9\",\"3\",\"0\",\"1\"],[\"16621.1\",\"508\",\"0\",\"1\"],[\"16621.8\",\"1\",\"0\",\"1\"],[\"16622.1\",\"11\",\"0\",\"1\"],[\"16623.6\",\"102\",\"0\",\"1\"],[\"16624.2\",\"8\",\"0\",\"2\"],[\"16624.5\",\"4625\",\"0\",\"1\"],[\"16625.4\",\"11\",\"0\",\"1\"],[\"16628.7\",\"11\",\"0\",\"1\"],[\"16631.4\",\"17\",\"0\",\"1\"],[\"16634.6\",\"50\",\"0\",\"1\"],[\"16636\",\"505\",\"0\",\"1\"],[\"16637.5\",\"3\",\"0\",\"1\"],[\"16639\",\"501\",\"0\",\"1\"],[\"16639.1\",\"232\",\"0\",\"1\"],[\"16639.9\",\"26\",\"0\",\"1\"],[\"16640.4\",\"2457\",\"0\",\"1\"],[\"16640.8\",\"8\",\"0\",\"2\"],[\"16641.2\",\"50\",\"0\",\"1\"],[\"16645\",\"18\",\"0\",\"1\"],[\"16645.6\",\"594\",\"0\",\"1\"],[\"16645.9\",\"3957\",\"0\",\"1\"],[\"16646\",\"18\",\"0\",\"1\"],[\"16647\",\"18\",\"0\",\"1\"],[\"16647.3\",\"6400\",\"0\",\"1\"],[\"16648\",\"9\",\"0\",\"1\"],[\"16649\",\"18\",\"0\",\"1\"],[\"16650\",\"18\",\"0\",\"1\"],[\"16650.6\",\"3170\",\"0\",\"1\"],[\"16650.9\",\"508\",\"0\",\"1\"],[\"16651\",\"18\",\"0\",\"1\"],[\"16652\",\"18\",\"0\",\"1\"],[\"16653\",\"18\",\"0\",\"1\"],[\"16654\",\"18\",\"0\",\"1\"],[\"16654.1\",\"3\",\"0\",\"1\"],[\"16655\",\"18\",\"0\",\"1\"],[\"16656\",\"18\",\"0\",\"1\"],[\"16656.1\",\"2520\",\"0\",\"1\"],[\"16657\",\"10\",\"0\",\"1\"],[\"16657.4\",\"8\",\"0\",\"2\"],[\"16658\",\"18\",\"0\",\"1\"],[\"16659\",\"18\",\"0\",\"1\"],[\"16660\",\"18\",\"0\",\"1\"],[\"16661\",\"18\",\"0\",\"1\"],[\"16662\",\"18\",\"0\",\"1\"],[\"16663\",\"18\",\"0\",\"1\"],[\"16663.9\",\"1\",\"0\",\"1\"],[\"16664\",\"18\",\"0\",\"1\"],[\"16665\",\"18\",\"0\",\"1\"],[\"16666\",\"18\",\"0\",\"1\"],[\"16667\",\"18\",\"0\",\"1\"],[\"16668\",\"18\",\"0\",\"1\"],[\"16669\",\"18\",\"0\",\"1\"],[\"16670\",\"18\",\"0\",\"1\"],[\"16670.7\",\"3\",\"0\",\"1\"],[\"16671\",\"18\",\"0\",\"1\"],[\"16672\",\"18\",\"0\",\"1\"],[\"16673\",\"18\",\"0\",\"1\"],[\"16673.9\",\"1\",\"0\",\"1\"],[\"16674\",\"18\",\"0\",\"1\"],[\"16674.1\",\"8\",\"0\",\"2\"],[\"16675\",\"20\",\"0\",\"2\"],[\"16676\",\"18\",\"0\",\"1\"],[\"16676.3\",\"19\",\"0\",\"1\"],[\"16676.8\",\"20\",\"0\",\"1\"],[\"16677\",\"18\",\"0\",\"1\"],[\"16678\",\"29\",\"0\",\"2\"],[\"16679\",\"18\",\"0\",\"1\"],[\"16680\",\"18\",\"0\",\"1\"],[\"16680.9\",\"594\",\"0\",\"1\"],[\"16681\",\"18\",\"0\",\"1\"],[\"16682\",\"18\",\"0\",\"1\"],[\"16683\",\"18\",\"0\",\"1\"],[\"16684\",\"18\",\"0\",\"1\"],[\"16685\",\"18\",\"0\",\"1\"],[\"16686\",\"18\",\"0\",\"1\"],[\"16686.2\",\"8\",\"0\",\"2\"],[\"16687\",\"18\",\"0\",\"1\"],[\"16687.3\",\"3\",\"0\",\"1\"],[\"16687.7\",\"306\",\"0\",\"1\"],[\"16688\",\"18\",\"0\",\"1\"],[\"16689\",\"18\",\"0\",\"1\"],[\"16690\",\"18\",\"0\",\"1\"],[\"16690.8\",\"8\",\"0\",\"2\"],[\"16691\",\"18\",\"0\",\"1\"],[\"16692\",\"18\",\"0\",\"1\"],[\"16693\",\"18\",\"0\",\"1\"],[\"16694\",\"18\",\"0\",\"1\"],[\"16694.3\",\"22\",\"0\",\"1\"],[\"16695\",\"18\",\"0\",\"1\"],[\"16696\",\"18\",\"0\",\"1\"],[\"16696.5\",\"10400\",\"0\",\"1\"],[\"16697\",\"18\",\"0\",\"1\"],[\"16698\",\"18\",\"0\",\"1\"],[\"16699\",\"18\",\"0\",\"1\"],[\"16700\",\"632\",\"0\",\"4\"],[\"16701\",\"18\",\"0\",\"1\"],[\"16702\",\"18\",\"0\",\"1\"],[\"16703\",\"18\",\"0\",\"1\"],[\"16704\",\"18\",\"0\",\"1\"],[\"16705\",\"18\",\"0\",\"1\"],[\"16706\",\"18\",\"0\",\"1\"],[\"16707\",\"18\",\"0\",\"1\"],[\"16707.3\",\"8\",\"0\",\"2\"],[\"16708\",\"18\",\"0\",\"1\"],[\"16709\",\"18\",\"0\",\"1\"],[\"16710\",\"422\",\"0\",\"3\"],[\"16711\",\"18\",\"0\",\"1\"],[\"16712\",\"18\",\"0\",\"1\"],[\"16712.1\",\"2396\",\"0\",\"1\"],[\"16712.2\",\"7115\",\"0\",\"1\"],[\"16713\",\"18\",\"0\",\"1\"],[\"16714\",\"18\",\"0\",\"1\"],[\"16715\",\"18\",\"0\",\"1\"],[\"16716\",\"18\",\"0\",\"1\"],[\"16716.8\",\"76\",\"0\",\"1\"],[\"16717\",\"18\",\"0\",\"1\"],[\"16718\",\"18\",\"0\",\"1\"],[\"16719\",\"18\",\"0\",\"1\"],[\"16720\",\"18\",\"0\",\"1\"],[\"16720.3\",\"666\",\"0\",\"1\"],[\"16721\",\"18\",\"0\",\"1\"],[\"16722\",\"18\",\"0\",\"1\"],[\"16723\",\"18\",\"0\",\"1\"],[\"16724\",\"18\",\"0\",\"1\"],[\"16724.3\",\"8\",\"0\",\"2\"],[\"16725\",\"18\",\"0\",\"1\"],[\"16726\",\"18\",\"0\",\"1\"],[\"16727\",\"18\",\"0\",\"1\"],[\"16728\",\"18\",\"0\",\"1\"],[\"16729\",\"18\",\"0\",\"1\"],[\"16730\",\"59\",\"0\",\"2\"],[\"16730.9\",\"23\",\"0\",\"1\"],[\"16731\",\"18\",\"0\",\"1\"],[\"16732\",\"18\",\"0\",\"1\"],[\"16733\",\"18\",\"0\",\"1\"],[\"16734\",\"18\",\"0\",\"1\"],[\"16735\",\"120\",\"0\",\"2\"],[\"16736\",\"18\",\"0\",\"1\"],[\"16737\",\"18\",\"0\",\"1\"],[\"16738\",\"18\",\"0\",\"1\"],[\"16739\",\"18\",\"0\",\"1\"],[\"16740\",\"93\",\"0\",\"2\"],[\"16741\",\"26\",\"0\",\"3\"],[\"16742\",\"18\",\"0\",\"1\"],[\"16743\",\"18\",\"0\",\"1\"],[\"16744\",\"18\",\"0\",\"1\"],[\"16744.3\",\"10\",\"0\",\"1\"],[\"16745\",\"18\",\"0\",\"1\"],[\"16746\",\"18\",\"0\",\"1\"],[\"16747\",\"18\",\"0\",\"1\"],[\"16748\",\"18\",\"0\",\"1\"],[\"16749\",\"2\",\"0\",\"1\"],[\"16749.8\",\"83\",\"0\",\"1\"],[\"16750\",\"119\",\"0\",\"3\"],[\"16751\",\"18\",\"0\",\"1\"],[\"16752\",\"18\",\"0\",\"1\"],[\"16753\",\"18\",\"0\",\"1\"],[\"16754\",\"18\",\"0\",\"1\"],[\"16755\",\"18\",\"0\",\"1\"],[\"16756\",\"18\",\"0\",\"1\"],[\"16757\",\"18\",\"0\",\"1\"],[\"16757.7\",\"8\",\"0\",\"2\"],[\"16758\",\"18\",\"0\",\"1\"],[\"16759\",\"18\",\"0\",\"1\"],[\"16760\",\"18\",\"0\",\"1\"],[\"16761\",\"18\",\"0\",\"1\"],[\"16762\",\"18\",\"0\",\"1\"],[\"16763\",\"18\",\"0\",\"1\"],[\"16764\",\"18\",\"0\",\"1\"],[\"16764.1\",\"14400\",\"0\",\"1\"],[\"16765\",\"18\",\"0\",\"1\"],[\"16766\",\"18\",\"0\",\"1\"],[\"16766.7\",\"23\",\"0\",\"1\"],[\"16767\",\"2\",\"0\",\"1\"],[\"16768\",\"18\",\"0\",\"1\"],[\"16769\",\"18\",\"0\",\"1\"],[\"16770\",\"18\",\"0\",\"1\"],[\"16771\",\"18\",\"0\",\"1\"],[\"16772\",\"18\",\"0\",\"1\"],[\"16773\",\"18\",\"0\",\"1\"],[\"16774\",\"18\",\"0\",\"1\"],[\"16774.5\",\"8\",\"0\",\"2\"],[\"16775\",\"18\",\"0\",\"1\"],[\"16776\",\"18\",\"0\",\"1\"],[\"16776.6\",\"66\",\"0\",\"2\"],[\"16776.8\",\"5000\",\"0\",\"1\"],[\"16777\",\"4\",\"0\",\"2\"],[\"16778\",\"18\",\"0\",\"1\"],[\"16779\",\"18\",\"0\",\"1\"],[\"16780\",\"18\",\"0\",\"1\"],[\"16789.7\",\"17\",\"0\",\"1\"],[\"16791.3\",\"8\",\"0\",\"2\"],[\"16800\",\"4\",\"0\",\"2\"],[\"16807.8\",\"8\",\"0\",\"2\"],[\"16809.9\",\"5006\",\"0\",\"1\"],[\"16810\",\"13\",\"0\",\"2\"],[\"16814.1\",\"8\",\"0\",\"1\"],[\"16818\",\"168\",\"0\",\"1\"],[\"16822.2\",\"1521\",\"0\",\"1\"],[\"16824.9\",\"8\",\"0\",\"2\"],[\"16826.1\",\"1\",\"0\",\"1\"],[\"16828.2\",\"14808\",\"0\",\"1\"],[\"16841.8\",\"8\",\"0\",\"2\"],[\"16843.1\",\"5008\",\"0\",\"1\"],[\"16851\",\"17\",\"0\",\"1\"],[\"16852\",\"17\",\"0\",\"1\"],[\"16853\",\"17\",\"0\",\"1\"],[\"16854\",\"17\",\"0\",\"1\"],[\"16855\",\"18\",\"0\",\"2\"],[\"16856\",\"17\",\"0\",\"1\"],[\"16856.4\",\"4\",\"0\",\"1\"],[\"16857\",\"17\",\"0\",\"1\"],[\"16858\",\"17\",\"0\",\"1\"],[\"16858.6\",\"8\",\"0\",\"2\"],[\"16859\",\"17\",\"0\",\"1\"],[\"16860\",\"17\",\"0\",\"1\"],[\"16861\",\"17\",\"0\",\"1\"],[\"16862\",\"17\",\"0\",\"1\"],[\"16863\",\"24\",\"0\",\"2\"],[\"16864\",\"17\",\"0\",\"1\"],[\"16865\",\"17\",\"0\",\"1\"],[\"16866\",\"17\",\"0\",\"1\"],[\"16867\",\"17\",\"0\",\"1\"],[\"16868\",\"17\",\"0\",\"1\"],[\"16869\",\"10\",\"0\",\"1\"],[\"16870\",\"17\",\"0\",\"1\"],[\"16871\",\"17\",\"0\",\"1\"],[\"16872\",\"17\",\"0\",\"1\"],[\"16873\",\"17\",\"0\",\"1\"],[\"16873.9\",\"1\",\"0\",\"1\"],[\"16874\",\"10\",\"0\",\"1\"],[\"16875\",\"17\",\"0\",\"1\"],[\"16875.5\",\"8\",\"0\",\"2\"],[\"16876\",\"17\",\"0\",\"1\"],[\"16876.2\",\"5002\",\"0\",\"1\"],[\"16877\",\"17\",\"0\",\"1\"],[\"16878\",\"17\",\"0\",\"1\"],[\"16879\",\"17\",\"0\",\"1\"],[\"16880\",\"17\",\"0\",\"1\"],[\"16881\",\"17\",\"0\",\"1\"],[\"16882\",\"18\",\"0\",\"2\"],[\"16883\",\"17\",\"0\",\"1\"],[\"16884\",\"17\",\"0\",\"1\"],[\"16885\",\"17\",\"0\",\"1\"],[\"16886\",\"17\",\"0\",\"1\"],[\"16887\",\"17\",\"0\",\"1\"],[\"16887.8\",\"16\",\"0\",\"1\"],[\"16888\",\"263\",\"0\",\"4\"],[\"16889\",\"17\",\"0\",\"1\"],[\"16890\",\"17\",\"0\",\"1\"],[\"16891\",\"17\",\"0\",\"1\"],[\"16892\",\"20\",\"0\",\"2\"],[\"16892.4\",\"8\",\"0\",\"2\"],[\"16893\",\"17\",\"0\",\"1\"],[\"16894\",\"19\",\"0\",\"2\"]],\"bids\":[[\"16576.2\",\"380\",\"0\",\"4\"],[\"16575.8\",\"3\",\"0\",\"1\"],[\"16575.3\",\"228\",\"0\",\"1\"],[\"16575.1\",\"437\",\"0\",\"2\"],[\"16575\",\"252\",\"0\",\"2\"],[\"16574.9\",\"335\",\"0\",\"2\"],[\"16574.8\",\"216\",\"0\",\"3\"],[\"16574.7\",\"53\",\"0\",\"1\"],[\"16574.5\",\"188\",\"0\",\"2\"],[\"16574.4\",\"272\",\"0\",\"2\"],[\"16574.3\",\"107\",\"0\",\"1\"],[\"16574.2\",\"18\",\"0\",\"2\"],[\"16574.1\",\"195\",\"0\",\"1\"],[\"16573.4\",\"85\",\"0\",\"2\"],[\"16573.3\",\"12\",\"0\",\"1\"],[\"16573.2\",\"195\",\"0\",\"1\"],[\"16572.6\",\"11\",\"0\",\"1\"],[\"16572.1\",\"15\",\"0\",\"1\"],[\"16571.9\",\"5\",\"0\",\"1\"],[\"16571.7\",\"46\",\"0\",\"1\"],[\"16571.6\",\"12\",\"0\",\"1\"],[\"16571.4\",\"1954\",\"0\",\"2\"],[\"16571.3\",\"25\",\"0\",\"1\"],[\"16571.2\",\"2\",\"0\",\"1\"],[\"16571.1\",\"56\",\"0\",\"1\"],[\"16570.9\",\"19\",\"0\",\"1\"],[\"16570.6\",\"165\",\"0\",\"2\"],[\"16570.5\",\"400\",\"0\",\"1\"],[\"16570.3\",\"10\",\"0\",\"1\"],[\"16570.2\",\"49\",\"0\",\"1\"],[\"16570.1\",\"49\",\"0\",\"1\"],[\"16570\",\"40\",\"0\",\"1\"],[\"16569.9\",\"54\",\"0\",\"2\"],[\"16569.6\",\"25\",\"0\",\"1\"],[\"16569.4\",\"45\",\"0\",\"1\"],[\"16569.3\",\"11\",\"0\",\"1\"],[\"16569.2\",\"76\",\"0\",\"1\"],[\"16569.1\",\"90\",\"0\",\"2\"],[\"16568.7\",\"93\",\"0\",\"2\"],[\"16568.4\",\"417\",\"0\",\"2\"],[\"16568.3\",\"1029\",\"0\",\"2\"],[\"16568.2\",\"54\",\"0\",\"2\"],[\"16568.1\",\"76\",\"0\",\"1\"],[\"16567.8\",\"106\",\"0\",\"2\"],[\"16567.7\",\"431\",\"0\",\"1\"],[\"16567.6\",\"161\",\"0\",\"2\"],[\"16567.5\",\"1076\",\"0\",\"2\"],[\"16567.2\",\"39\",\"0\",\"1\"],[\"16566.9\",\"40\",\"0\",\"1\"],[\"16566.8\",\"48\",\"0\",\"1\"],[\"16566.6\",\"69\",\"0\",\"3\"],[\"16566.5\",\"137\",\"0\",\"3\"],[\"16566.2\",\"152\",\"0\",\"2\"],[\"16566.1\",\"76\",\"0\",\"1\"],[\"16566\",\"11\",\"0\",\"1\"],[\"16565.9\",\"390\",\"0\",\"1\"],[\"16565.6\",\"40\",\"0\",\"1\"],[\"16565.4\",\"450\",\"0\",\"1\"],[\"16565.1\",\"1000\",\"0\",\"1\"],[\"16565\",\"49\",\"0\",\"1\"],[\"16564.8\",\"96\",\"0\",\"2\"],[\"16564.6\",\"70\",\"0\",\"2\"],[\"16564.4\",\"142\",\"0\",\"2\"],[\"16564.3\",\"300\",\"0\",\"1\"],[\"16564.2\",\"8\",\"0\",\"1\"],[\"16564.1\",\"45\",\"0\",\"1\"],[\"16564\",\"43\",\"0\",\"2\"],[\"16563.7\",\"40\",\"0\",\"1\"],[\"16563.3\",\"20\",\"0\",\"1\"],[\"16563.1\",\"471\",\"0\",\"1\"],[\"16563\",\"28\",\"0\",\"2\"],[\"16562.9\",\"795\",\"0\",\"2\"],[\"16562.8\",\"40\",\"0\",\"1\"],[\"16562.7\",\"11\",\"0\",\"1\"],[\"16562.3\",\"4\",\"0\",\"1\"],[\"16562.1\",\"30\",\"0\",\"1\"],[\"16562\",\"43\",\"0\",\"2\"],[\"16561.8\",\"76\",\"0\",\"1\"],[\"16561.6\",\"41\",\"0\",\"2\"],[\"16561.5\",\"143\",\"0\",\"1\"],[\"16561.2\",\"66\",\"0\",\"1\"],[\"16561\",\"18\",\"0\",\"1\"],[\"16560.5\",\"82\",\"0\",\"3\"],[\"16560.3\",\"11\",\"0\",\"1\"],[\"16560.1\",\"45\",\"0\",\"1\"],[\"16560\",\"18\",\"0\",\"1\"],[\"16559.8\",\"49\",\"0\",\"1\"],[\"16559.4\",\"11\",\"0\",\"1\"],[\"16559.3\",\"10\",\"0\",\"1\"],[\"16559.1\",\"1\",\"0\",\"1\"],[\"16559\",\"1458\",\"0\",\"21\"],[\"16558.9\",\"40\",\"0\",\"1\"],[\"16558.8\",\"1008\",\"0\",\"14\"],[\"16558.7\",\"792\",\"0\",\"11\"],[\"16558.3\",\"1\",\"0\",\"1\"],[\"16558.2\",\"333\",\"0\",\"1\"],[\"16558\",\"58\",\"0\",\"2\"],[\"16557.7\",\"8\",\"0\",\"2\"],[\"16557.6\",\"30\",\"0\",\"1\"],[\"16557.5\",\"1\",\"0\",\"1\"],[\"16557.4\",\"1\",\"0\",\"1\"],[\"16557.3\",\"388\",\"0\",\"1\"],[\"16557.1\",\"606\",\"0\",\"9\"],[\"16557\",\"18\",\"0\",\"1\"],[\"16556.8\",\"40\",\"0\",\"1\"],[\"16556.3\",\"326\",\"0\",\"1\"],[\"16556.1\",\"11\",\"0\",\"1\"],[\"16556\",\"18\",\"0\",\"1\"],[\"16555.9\",\"40\",\"0\",\"1\"],[\"16555.7\",\"10\",\"0\",\"1\"],[\"16555.4\",\"72\",\"0\",\"3\"],[\"16555.2\",\"1127\",\"0\",\"1\"],[\"16555.1\",\"447\",\"0\",\"1\"],[\"16555\",\"60\",\"0\",\"4\"],[\"16554.9\",\"747\",\"0\",\"1\"],[\"16554.8\",\"54\",\"0\",\"1\"],[\"16554.5\",\"3\",\"0\",\"1\"],[\"16554.1\",\"520\",\"0\",\"2\"],[\"16554\",\"349\",\"0\",\"2\"],[\"16553.8\",\"163\",\"0\",\"6\"],[\"16553.4\",\"300\",\"0\",\"1\"],[\"16553.2\",\"40\",\"0\",\"1\"],[\"16553\",\"259\",\"0\",\"3\"],[\"16552.8\",\"12\",\"0\",\"2\"],[\"16552.7\",\"39\",\"0\",\"1\"],[\"16552.5\",\"50\",\"0\",\"1\"],[\"16552.4\",\"375\",\"0\",\"1\"],[\"16552.3\",\"40\",\"0\",\"1\"],[\"16552.1\",\"45\",\"0\",\"2\"],[\"16552\",\"522\",\"0\",\"2\"],[\"16551.7\",\"1\",\"0\",\"1\"],[\"16551.6\",\"20\",\"0\",\"1\"],[\"16551.4\",\"200\",\"0\",\"1\"],[\"16551\",\"311\",\"0\",\"2\"],[\"16550\",\"309\",\"0\",\"8\"],[\"16549.9\",\"909\",\"0\",\"2\"],[\"16549.5\",\"11\",\"0\",\"1\"],[\"16549.4\",\"50\",\"0\",\"1\"],[\"16549.3\",\"1193\",\"0\",\"1\"],[\"16549\",\"18\",\"0\",\"1\"],[\"16548.2\",\"50\",\"0\",\"1\"],[\"16548\",\"18\",\"0\",\"1\"],[\"16547.9\",\"20\",\"0\",\"1\"],[\"16547.8\",\"1\",\"0\",\"1\"],[\"16547.7\",\"394\",\"0\",\"1\"],[\"16547.3\",\"132\",\"0\",\"1\"],[\"16547.1\",\"12\",\"0\",\"1\"],[\"16547\",\"18\",\"0\",\"1\"],[\"16546.4\",\"1\",\"0\",\"1\"],[\"16546.3\",\"1536\",\"0\",\"1\"],[\"16546.2\",\"11\",\"0\",\"1\"],[\"16546\",\"746\",\"0\",\"3\"],[\"16545.5\",\"72\",\"0\",\"3\"],[\"16545\",\"18\",\"0\",\"1\"],[\"16544.3\",\"37\",\"0\",\"1\"],[\"16544\",\"19\",\"0\",\"2\"],[\"16543.8\",\"39\",\"0\",\"1\"],[\"16543.7\",\"5\",\"0\",\"1\"],[\"16543\",\"3\",\"0\",\"1\"],[\"16542.9\",\"11\",\"0\",\"1\"],[\"16542.1\",\"20\",\"0\",\"1\"],[\"16542\",\"18\",\"0\",\"1\"],[\"16541.1\",\"8\",\"0\",\"2\"],[\"16541\",\"18\",\"0\",\"1\"],[\"16540.7\",\"3\",\"0\",\"1\"],[\"16539.9\",\"24\",\"0\",\"1\"],[\"16539.8\",\"1\",\"0\",\"1\"],[\"16539.7\",\"51\",\"0\",\"2\"],[\"16539.6\",\"514\",\"0\",\"2\"],[\"16539.3\",\"3200\",\"0\",\"1\"],[\"16537.9\",\"3\",\"0\",\"1\"],[\"16536.3\",\"11\",\"0\",\"1\"],[\"16533.6\",\"948\",\"0\",\"1\"],[\"16533.2\",\"496\",\"0\",\"1\"],[\"16533\",\"27\",\"0\",\"2\"],[\"16531.4\",\"508\",\"0\",\"1\"],[\"16531.1\",\"165\",\"0\",\"1\"],[\"16530.5\",\"1\",\"0\",\"1\"],[\"16530\",\"66\",\"0\",\"1\"],[\"16529.7\",\"11\",\"0\",\"1\"],[\"16528.5\",\"4655\",\"0\",\"1\"],[\"16527.2\",\"8\",\"0\",\"1\"],[\"16526.4\",\"11\",\"0\",\"1\"],[\"16525\",\"21\",\"0\",\"1\"],[\"16524.6\",\"8\",\"0\",\"2\"],[\"16521.7\",\"50\",\"0\",\"1\"],[\"16521.3\",\"3\",\"0\",\"1\"],[\"16521.2\",\"1\",\"0\",\"1\"],[\"16521.1\",\"165\",\"0\",\"1\"],[\"16520\",\"247\",\"0\",\"1\"],[\"16519.7\",\"2457\",\"0\",\"1\"],[\"16519.2\",\"102\",\"0\",\"1\"],[\"16518.4\",\"18\",\"0\",\"1\"],[\"16516.5\",\"509\",\"0\",\"1\"],[\"16516\",\"7\",\"0\",\"1\"],[\"16515.1\",\"50\",\"0\",\"1\"],[\"16514.6\",\"3957\",\"0\",\"1\"],[\"16512.3\",\"1204\",\"0\",\"1\"],[\"16508.4\",\"33\",\"0\",\"1\"],[\"16508.3\",\"594\",\"0\",\"1\"],[\"16508.1\",\"8\",\"0\",\"2\"],[\"16508\",\"1500\",\"0\",\"1\"],[\"16506.7\",\"6400\",\"0\",\"1\"],[\"16506.6\",\"232\",\"0\",\"1\"],[\"16506.2\",\"1\",\"0\",\"1\"],[\"16504.7\",\"3\",\"0\",\"1\"],[\"16503.3\",\"329\",\"0\",\"2\"],[\"16501.6\",\"508\",\"0\",\"1\"],[\"16501.1\",\"165\",\"0\",\"1\"],[\"16500\",\"581\",\"0\",\"17\"],[\"16497.4\",\"23\",\"0\",\"1\"],[\"16494.3\",\"23\",\"0\",\"1\"],[\"16491.6\",\"8\",\"0\",\"2\"],[\"16491.2\",\"1\",\"0\",\"1\"],[\"16491\",\"1532\",\"0\",\"1\"],[\"16490\",\"1\",\"0\",\"1\"],[\"16489.9\",\"5\",\"0\",\"2\"],[\"16489.8\",\"4\",\"0\",\"1\"],[\"16488.1\",\"3\",\"0\",\"1\"],[\"16488\",\"118\",\"0\",\"1\"],[\"16487.2\",\"25\",\"0\",\"1\"],[\"16486.2\",\"2514\",\"0\",\"1\"],[\"16484.6\",\"23\",\"0\",\"1\"],[\"16483.8\",\"3109\",\"0\",\"1\"],[\"16477\",\"129\",\"0\",\"2\"],[\"16475.1\",\"8\",\"0\",\"2\"],[\"16471.5\",\"3\",\"0\",\"1\"],[\"16470.7\",\"594\",\"0\",\"1\"],[\"16470.1\",\"666\",\"0\",\"1\"],[\"16458.6\",\"8\",\"0\",\"2\"],[\"16457.6\",\"10400\",\"0\",\"1\"],[\"16455\",\"1\",\"0\",\"1\"],[\"16454.9\",\"3\",\"0\",\"1\"],[\"16454\",\"3\",\"0\",\"1\"],[\"16453.9\",\"39\",\"0\",\"1\"],[\"16450\",\"379\",\"0\",\"2\"],[\"16448.3\",\"7915\",\"0\",\"1\"],[\"16448\",\"133\",\"0\",\"1\"],[\"16446.4\",\"2376\",\"0\",\"1\"],[\"16442.1\",\"8\",\"0\",\"2\"],[\"16440.3\",\"23\",\"0\",\"1\"],[\"16434\",\"16\",\"0\",\"1\"],[\"16429\",\"38\",\"0\",\"1\"],[\"16428\",\"88\",\"0\",\"1\"],[\"16425.7\",\"8\",\"0\",\"2\"],[\"16420\",\"10\",\"0\",\"1\"],[\"16418.2\",\"1\",\"0\",\"1\"],[\"16409.3\",\"8\",\"0\",\"2\"],[\"16400\",\"14910\",\"0\",\"8\"],[\"16392.9\",\"8\",\"0\",\"2\"],[\"16386\",\"79\",\"0\",\"1\"],[\"16378.7\",\"5004\",\"0\",\"1\"],[\"16376.5\",\"8\",\"0\",\"2\"],[\"16374\",\"118\",\"0\",\"1\"],[\"16367.7\",\"4\",\"0\",\"1\"],[\"16366\",\"2\",\"0\",\"1\"],[\"16360.1\",\"8\",\"0\",\"2\"],[\"16357\",\"1\",\"0\",\"1\"],[\"16346.5\",\"1\",\"0\",\"1\"],[\"16346.4\",\"327\",\"0\",\"2\"],[\"16345.6\",\"5001\",\"0\",\"1\"],[\"16345.2\",\"1\",\"0\",\"1\"],[\"16344.3\",\"1560\",\"0\",\"1\"],[\"16343.7\",\"8\",\"0\",\"2\"],[\"16340\",\"10\",\"0\",\"1\"],[\"16336\",\"225\",\"0\",\"1\"],[\"16334.2\",\"17\",\"0\",\"1\"],[\"16333\",\"32\",\"0\",\"3\"],[\"16330.8\",\"14719\",\"0\",\"1\"],[\"16329.9\",\"50\",\"0\",\"1\"],[\"16327.4\",\"8\",\"0\",\"2\"],[\"16324\",\"1000\",\"0\",\"1\"],[\"16320\",\"1\",\"0\",\"1\"],[\"16312.4\",\"5008\",\"0\",\"1\"],[\"16311.1\",\"8\",\"0\",\"2\"],[\"16311\",\"260\",\"0\",\"1\"],[\"16307\",\"2\",\"0\",\"1\"],[\"16305\",\"38\",\"0\",\"2\"],[\"16300\",\"44\",\"0\",\"5\"],[\"16294.7\",\"8\",\"0\",\"2\"],[\"16289\",\"4\",\"0\",\"1\"],[\"16286\",\"75\",\"0\",\"1\"],[\"16283\",\"300\",\"0\",\"1\"],[\"16281\",\"1300\",\"0\",\"2\"],[\"16280\",\"32\",\"0\",\"1\"],[\"16279.3\",\"5009\",\"0\",\"1\"],[\"16278.5\",\"8\",\"0\",\"2\"],[\"16274.8\",\"1\",\"0\",\"1\"],[\"16269.2\",\"1\",\"0\",\"1\"],[\"16269\",\"16\",\"0\",\"1\"],[\"16263\",\"300\",\"0\",\"1\"],[\"16262.2\",\"8\",\"0\",\"2\"],[\"16262\",\"1300\",\"0\",\"2\"],[\"16256\",\"110\",\"0\",\"2\"],[\"16255\",\"9\",\"0\",\"2\"],[\"16250\",\"2\",\"0\",\"2\"],[\"16248\",\"300\",\"0\",\"1\"],[\"16246.1\",\"5007\",\"0\",\"1\"],[\"16246\",\"300\",\"0\",\"1\"],[\"16245.9\",\"8\",\"0\",\"2\"],[\"16234.8\",\"799\",\"0\",\"1\"],[\"16229.7\",\"8\",\"0\",\"2\"],[\"16228\",\"1300\",\"0\",\"2\"],[\"16227.4\",\"6\",\"0\",\"1\"],[\"16226\",\"300\",\"0\",\"1\"],[\"16225.9\",\"1\",\"0\",\"1\"],[\"16222\",\"2\",\"0\",\"2\"],[\"16220\",\"10\",\"0\",\"1\"],[\"16216\",\"2\",\"0\",\"1\"],[\"16213.4\",\"8\",\"0\",\"2\"],[\"16210\",\"36\",\"0\",\"3\"],[\"16209.7\",\"1\",\"0\",\"1\"],[\"16208\",\"10\",\"0\",\"1\"],[\"16203.1\",\"1\",\"0\",\"1\"],[\"16203\",\"83\",\"0\",\"2\"],[\"16200\",\"232\",\"0\",\"9\"],[\"16197.2\",\"8\",\"0\",\"2\"],[\"16190\",\"16\",\"0\",\"1\"],[\"16181\",\"8\",\"0\",\"2\"],[\"16180\",\"33\",\"0\",\"2\"],[\"16170\",\"216\",\"0\",\"1\"],[\"16169.7\",\"3\",\"0\",\"1\"],[\"16168\",\"10\",\"0\",\"1\"],[\"16166\",\"1\",\"0\",\"1\"],[\"16164.8\",\"8\",\"0\",\"2\"],[\"16150\",\"82\",\"0\",\"3\"],[\"16148.7\",\"8\",\"0\",\"2\"],[\"16140\",\"200\",\"0\",\"1\"],[\"16139.5\",\"16\",\"0\",\"1\"],[\"16139\",\"161\",\"0\",\"1\"],[\"16132.5\",\"8\",\"0\",\"2\"],[\"16122\",\"6\",\"0\",\"1\"],[\"16120\",\"831\",\"0\",\"2\"],[\"16116.4\",\"8\",\"0\",\"2\"],[\"16112.8\",\"379\",\"0\",\"1\"],[\"16111\",\"161\",\"0\",\"1\"],[\"16106\",\"16\",\"0\",\"1\"],[\"16100.3\",\"8\",\"0\",\"2\"],[\"16100\",\"56\",\"0\",\"10\"],[\"16090\",\"85\",\"0\",\"2\"],[\"16089\",\"61\",\"0\",\"1\"],[\"16088\",\"25\",\"0\",\"1\"],[\"16086\",\"30\",\"0\",\"1\"],[\"16084.2\",\"8\",\"0\",\"2\"],[\"16081.7\",\"5\",\"0\",\"1\"],[\"16081.4\",\"2\",\"0\",\"1\"],[\"16079\",\"11\",\"0\",\"1\"],[\"16073.9\",\"28\",\"0\",\"1\"],[\"16070\",\"1\",\"0\",\"1\"],[\"16068.1\",\"8\",\"0\",\"2\"],[\"16066.3\",\"3\",\"0\",\"1\"],[\"16066\",\"23\",\"0\",\"1\"],[\"16063\",\"225\",\"0\",\"1\"],[\"16058\",\"169\",\"0\",\"1\"],[\"16057.5\",\"15\",\"0\",\"1\"],[\"16056.3\",\"1\",\"0\",\"1\"],[\"16055\",\"883\",\"0\",\"1\"],[\"16053.9\",\"16\",\"0\",\"1\"],[\"16052\",\"972\",\"0\",\"3\"],[\"16050\",\"57\",\"0\",\"7\"],[\"16045\",\"20\",\"0\",\"1\"],[\"16039\",\"160\",\"0\",\"1\"],[\"16036\",\"8\",\"0\",\"2\"],[\"16035.1\",\"1\",\"0\",\"1\"],[\"16030.5\",\"1\",\"0\",\"1\"],[\"16030\",\"80\",\"0\",\"1\"],[\"16029.2\",\"4\",\"0\",\"1\"],[\"16020.8\",\"3\",\"0\",\"1\"],[\"16020\",\"10\",\"0\",\"1\"],[\"16019.9\",\"8\",\"0\",\"2\"],[\"16009.8\",\"1\",\"0\",\"1\"],[\"16005\",\"3\",\"0\",\"2\"],[\"16004\",\"2\",\"0\",\"1\"],[\"16003.9\",\"8\",\"0\",\"2\"],[\"16002.2\",\"640\",\"0\",\"1\"],[\"16000\",\"507\",\"0\",\"24\"],[\"15999\",\"20\",\"0\",\"1\"],[\"15998\",\"7\",\"0\",\"1\"],[\"15990\",\"11\",\"0\",\"2\"],[\"15987.9\",\"8\",\"0\",\"2\"],[\"15980\",\"159\",\"0\",\"1\"],[\"15971.9\",\"8\",\"0\",\"2\"],[\"15956\",\"8\",\"0\",\"2\"],[\"15955\",\"400\",\"0\",\"1\"],[\"15945\",\"351\",\"0\",\"3\"],[\"15940\",\"8\",\"0\",\"2\"],[\"15939\",\"159\",\"0\",\"1\"],[\"15938.2\",\"50097\",\"0\",\"1\"],[\"15936\",\"31\",\"0\",\"1\"],[\"15933.5\",\"1\",\"0\",\"1\"],[\"15933\",\"63\",\"0\",\"1\"],[\"15932.1\",\"4\",\"0\",\"1\"],[\"15924.1\",\"8\",\"0\",\"2\"],[\"15920\",\"2\",\"0\",\"2\"],[\"15915\",\"10\",\"0\",\"1\"],[\"15913.4\",\"380\",\"0\",\"1\"],[\"15908.1\",\"8\",\"0\",\"2\"],[\"15905\",\"2\",\"0\",\"1\"],[\"15902.5\",\"1\",\"0\",\"1\"],[\"15901.5\",\"1\",\"0\",\"1\"]],\"ts\":\"1671732300309\",\"checksum\":-442749459}]}";

    #endregion


    [Fact]
    public void TestOrderbookSnapshotJson()
    {
        var jsonSerializerOptions = OkxWebsocketForOrderbook.InternalCreateJsonSerializerOptions();
        var ob = JsonSerializer.Deserialize<OkxWebsocketOrderbookResponse>(Encoding.UTF8.GetBytes(bookSnapshot), jsonSerializerOptions);
        Assert.NotNull(ob);
        Assert.Equal(DateTimeOffset.FromUnixTimeMilliseconds(1671732300309), ob.FirstData.Timestamp);

        for (int i = 0; i < 1024; i++)
        {
            Assert.NotNull(
                JsonSerializer.Deserialize<OkxWebsocketOrderbookResponse>(Encoding.UTF8.GetBytes(bookSnapshot),
                    jsonSerializerOptions));
        }
    }
}